<!DOCTYPE html>
<html>
  <head>
  	
    <meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		
		
    <title>HTML5平台</title>
    
   	
		<script src="js/d3/d3.js"></script>
   	
		<link rel="stylesheet" href="js/bpmn-js/assets/diagram-js.css">
  	<link rel="stylesheet" href="js/bpmn-js/assets/bpmn-font/css/bpmn-embedded.css">
  	<script src="js/bpmn-js/bpmn-viewer.js"></script>
		<script src="js/bpmn-js/bpmn-modeler.js"></script>
		
		<script src="js/bpmn-js/bpmn-navigated-viewer.js"></script>
		
		
    
    <!-- gwt application -->
    <script type="text/javascript" language="javascript"  src="GWTEnterprise/GWTEnterprise.nocache.js"></script>
		
		<!-- spreadJS -->
		<script src="js/excel/jquery-1.11.2.min.js" type="text/javascript"></script>
		<script src="js/excel/jquery-ui.min.js" type="text/javascript"></script>
		<link href="js/excel/jquery-wijmo.css" rel="stylesheet" type="text/css" />
		<script src="js/excel/jquery.wijmo.wijspread.all.3.20143.15.min.js" type="text/javascript"></script>
		<script src="js/excel/main.js" type="text/javascript"></script>
		<link href="js/excel/jquery.wijmo.wijspread.3.20143.15.css" rel="stylesheet" type="text/css" />
		<link href="css/explore.css" rel="stylesheet" type="text/css" />
	
	
		<!--flexpaper-->
		<link rel="stylesheet" type="text/css" href="FlexPaper/css/flexpaper.css" />
		<script type="text/javascript" src="FlexPaper/js/jquery.extensions.min.js"></script>
		<script type="text/javascript" src="FlexPaper/js/flexpaper.js"></script>
		<script type="text/javascript" src="FlexPaper/js/flexpaper_handlers.js"></script>
	
  
	  <!-- open map -->
	  <script src="js/OpenLayers.js"></script>
		<script src="js/OpenStreetMap.js"></script> 
	 
		<!-- yfiles -->
		<link href="js/yfiles.css" rel="stylesheet" type="text/css" />
		<script src="js/require.js" type="text/javascript"></script>
		<script src="js/yfiles/es5-shim.js" type="text/javascript"></script>
		
		<!-- flowplayer -->
		<script type="text/javascript" src="js/flowplayer/flowplayer-3.2.13.min.js"></script>
		
    <script type="text/javascript">
    	
    		/**
    		 * 1.初始化应用之前调用此方法
    		 */
    		function beforeInitApplication() {
					// 设置产品id
    			window.setObject("Product", "GWTProduct");
    			window.setObject("licenseID", "xxxx");
    			
    			// 设置连接的帐套id
    			window.setObject("DBNO", "PW_DB01");
    			window.setObject("DataBaseName", "PW_DB01");
    			
    			// 政府财务
    			//window.setObject("DBNO", "ZYYT_DB01");
    			//window.setObject("DataBaseName", "ZYYT_DB01");
    			
    			// EAI中设置环境常量
    			//window.putEAIEnv("ContentViewClazz", "com.efounder.gwt.app.client.ui.ExplorerNoTabContentViewImpl");
    			//window.putEAIEnv("ContentViewClazz", "com.efounder.gwt.app.client.ui.ExplorerTabContentViewImpl");
    			
    			window.putEAIEnv("formPageBackgroundImage", "images/1.jp");
    		}
    		
    		/**
    		 * 2.初始化产品之后调用此方法（此方法备用）
    		 */
    		function afterInitApplication() {
    			
    		}
    		
    		//---------------------------------------------------
    		// start 自定义登录界面的登录
    		//---------------------------------------------------
    		
    		/**
    		 * 3.自定义的登录界面调用此方法执行登录
    		 */
    		function login() {
    			var userName = eval(document.getElementById('userName')).value;
    			var userPass = eval(document.getElementById('userPass')).value;
    			
    			// 用户名不能为空
    			if ( userName == null || userName == "" ) {
    				alert("用户名不能为空!");
    				return;	
    			}
    			
    			window.loginGWT(userName, userPass);
    		}
    		
    		/**
    		 * 4.登录成功之后调用
    		 */
    		function onLoginSuccess() {
    			// gwtdivdiv
    			maxGwtApplication();
    		}
    		
    		/**
    		 * 5.登录失败之后调用
    		 */
    		function onLoginFail(errorMessage) {
    			alert(errorMessage);
    		}
    		
    		/**
    		 * 显示gwt应用所在的div，隐藏其他div
    		 */
    		function maxGwtApplication() {
    			// htmlloginPageDiv
    			document.getElementById("loginPageDiv").style.display = "none";
    			// div
    			document.getElementById("gwt_esp").style.display = "";
    			document.getElementById("gwt_esp").style.width = "100%";
    			document.getElementById("gwt_esp").style.height = "100%";
    		}
    		
    		//---------------------------------------------------
    		// end 自定义登录界面的登录
    		//---------------------------------------------------
    		
    		/**
    		 * 检查网页关闭提示
    		 */
    		window.onbeforeunload = function () {
	      	return ("该操作将会导致退出系统(如果存在未保存的数据，关闭后将丢失)，您是否确认退出系统?");  
				}
				
				/**
				 * 修改窗口尺寸
				 */
				function resizeWindow(width, height) {
					// 修改表单尺寸
					window.setViewportSize(width, height);
				}

    </script>
	 	
    
  </head>
 	
  <body>
  	
  	<!-- 应用初始化前显示动态加载gif -->
  	<div id="explorer-loading-panel" style="top: 0; right: 0; bottom: 0; left: 0; height: 64px; width: 64px; position: absolute; margin: auto; background: no-repeat center url(ImageSpace/loading.gif);"></div>
  	
	  <!-- gwt应用框架所在div -->
	  
		
		<!-- 自定义登录界面 -->
		
		
    
  </body>
  
</html>